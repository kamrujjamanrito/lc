<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smooth Scroll Sections</title>
    <style>
        /* Container that holds all the scrollable sections */
        .scroll-container {
            height: 100vh; /* Full viewport height */
            width: 100vw; /* Full viewport width */
            overflow-y: scroll; /* Enable vertical scrolling */
            scroll-snap-type: y mandatory; /* Enable snap behavior */
            scroll-behavior: smooth; /* Default smooth scroll */
            position: relative;
        }

        /* Each section */
        .scroll-item {
            height: 100vh; /* Full viewport height per section */
            width: 100vw; /* Full viewport width per section */
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2em;
            scroll-snap-align: start; /* Each section starts from the top of the container */
        }

        /* Styling for odd and even sections */
        .scroll-item:nth-child(odd) {
            background-color: #f4f4f4;
        }

        .scroll-item:nth-child(even) {
            background-color: #ddd;
        }
    </style>
</head>
<body>
    <div class="scroll-container">
        <div class="scroll-item">Section 1</div>
        <div class="scroll-item">Section 2</div>
        <div class="scroll-item">Section 3</div>
        <div class="scroll-item">Section 4</div>
        <div class="scroll-item">Section 5</div>
        <div class="scroll-item">Section 6</div>
        <div class="scroll-item">Section 7</div>
        <div class="scroll-item">Section 8</div>
        <div class="scroll-item">Section 9</div>
        <div class="scroll-item">Section 10</div>
    </div>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- jQuery UI for additional easing functions -->
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>

    <script>
        $(document).ready(function() {
            let isScrolling = false; // Flag to prevent multiple scrolls at the same time
            const scrollDuration = 1400; // Scroll duration in ms (1.4 seconds)

            // jQuery scroll event to manage smooth scroll
            $('.scroll-container').on('wheel', function(event) {
                if (isScrolling) return; // Prevent multiple scrolls

                isScrolling = true; // Lock scrolling

                // Get the scroll direction (positive for down, negative for up)
                const scrollAmount = event.originalEvent.deltaY;
                event.preventDefault(); // Prevent default scroll behavior

                const container = $(this);
                const containerHeight = $(window).height(); // Viewport height
                const scrollTop = container.scrollTop();

                let targetPosition;

                // Scroll down (next section)
                if (scrollAmount > 0) {
                    targetPosition = Math.ceil(scrollTop / containerHeight) * containerHeight + containerHeight;
                } 
                // Scroll up (previous section)
                else {
                    targetPosition = Math.floor(scrollTop / containerHeight) * containerHeight - containerHeight;
                }

                // Ensure that we don't scroll beyond the last section
                const maxScrollTop = (containerHeight * ($('.scroll-item').length - 1));

                if (targetPosition < 0) targetPosition = 0;
                if (targetPosition > maxScrollTop) targetPosition = maxScrollTop;

                // Animate smooth scroll to the target position with a duration of 1.4 seconds
                $('html, body').animate({ scrollTop: targetPosition }, scrollDuration, 'easeInOutCubic', function() {
                    isScrolling = false; // Unlock scrolling after the transition
                });
            });
        });
    </script>
</body>
</html>

    // if ($(".panel").length > 0) {
    //   let panels = $(".panel"),
    //     currentIndex = 0,
    //     animating = false;

    //   function gotoPanel(index, direction) {
    //     if (index < 0 || index >= panels.length) return;

    //     animating = true;
    //     let fromTop = direction === 1,
    //       dFactor = fromTop ? -1 : 1;

    //     let tl = gsap.timeline({
    //       defaults: { duration: 1.25, ease: "power1.inOut" },
    //       onComplete: () => (animating = false),
    //     });

    //     tl.to(panels[currentIndex], {
    //       yPercent: 100 * dFactor,
    //       zIndex: currentIndex + 1,
    //     });

    //     gsap.set(panels[index], {
    //       zIndex: panels.length + 1,
    //       yPercent: -100 * dFactor,
    //     });

    //     tl.to(
    //       panels[index],
    //       {
    //         yPercent: 0,
    //       },
    //       0
    //     );

    //     currentIndex = index;
    //   }

    //   Observer.create({
    //     type: "wheel, touch, pointer",
    //     wheelSpeed: -1,
    //     onUp: () => {
    //       if (!animating && currentIndex < panels.length - 1) {
    //         gotoPanel(currentIndex + 1, 1);
    //       }
    //     },
    //     onDown: () => {
    //       if (!animating && currentIndex > 0) {
    //         gotoPanel(currentIndex - 1, -1);
    //       }
    //     },
    //     tolerance: 10,
    //     preventDefault: true,
    //   });

    //   gsap.set(panels.eq(0), {
    //     zIndex: 1,
    //     yPercent: 0,
    //   });
    // }